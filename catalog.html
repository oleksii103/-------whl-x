<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ç–∞–ª–æ–≥ - –ì–µ—Ñ–µ—Å—Ç–æ–≤–∞ –ö—É–∑–Ω—è</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* –°—Ç–∏–ª—ñ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥—É —Ç–æ–≤–∞—Ä—ñ–≤ (–¥–æ–¥–∞—Ç–∫–æ–≤—ñ) */
    .products-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .product-card {
      border: 1px solid #ddd;
      border-radius: 5px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .product-card:hover {
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .product-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    
    .product-info {
      padding: 15px;
    }
    
    .product-title {
      font-size: 18px;
      margin: 0 0 10px 0;
      color: #333;
    }
    
    .product-price {
      font-weight: bold;
      color: #e74c3c;
      font-size: 20px;
      margin-bottom: 15px;
    }
    
    .add-to-cart {
      background-color: #2ecc71;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      cursor: pointer;
      border-radius: 4px;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    .add-to-cart:hover {
      background-color: #27ae60;
    }
    
    .filters {
      background: #f9f9f9;
      padding: 20px;
      margin: 20px 0;
      border-radius: 5px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .filter-group {
      min-width: 200px;
    }
    
    .filter-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }
    
    .filter-group select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    
    .catalog-categories {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .category-card {
      display: block;
      text-decoration: none;
      color: #333;
      border-radius: 5px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    .category-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .category-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    
    .category-card h3 {
      text-align: center;
      padding: 15px;
      margin: 0;
      background: white;
    }
    
    @media (max-width: 768px) {
      .filters {
        flex-direction: column;
        gap: 15px;
      }
      
      .filter-group {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- –®–∞–ø–∫–∞ —Ç–∞ –º–µ–Ω—é (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ index.html) -->
  <header>
    <div class="logo">
      <a href="index.html">
        <img src="images/logo.png" alt="–ì–µ—Ñ–µ—Å—Ç–æ–≤–∞ –ö—É–∑–Ω—è">
        <span>–ì–µ—Ñ–µ—Å—Ç–æ–≤–∞ –ö—É–∑–Ω—è</span>
      </a>
    </div>
    
    <div class="search-box">
      <input type="text" placeholder="–ü–æ—à—É–∫ –ø–æ –º–∞–≥–∞–∑–∏–Ω—É" id="search-input">
      <button>üîç</button>
    </div>
    
    <div class="header-contacts">
      <span>+380 (96) 536-41-01</span>
    </div>
    
    <div class="header-buttons">
      <a href="cart.html" class="header-btn cart-btn">
        <i>üõí</i> –ö–æ—à–∏–∫ (<span id="cart-count">0</span>)
      </a>
      <a href="login.html" class="header-btn log-btn">
        <i>üë§</i> –í—Ö—ñ–¥
      </a>
    </div>
  </header>

  <!-- –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é -->
  <nav class="main-menu">
    <ul>
      <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
      <li><a href="catalog.html">–¢–æ–≤–∞—Ä–∏</a></li>
      <li><a href="about.html">–ü—Ä–æ –Ω–∞—Å</a></li>
      <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      <li><a href="delivery.html">–î–æ—Å—Ç–∞–≤–∫–∞</a></li>
    </ul>
  </nav>

  <main class="catalog-main">
    <h1>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤</h1>
    
    <div class="catalog-categories">
      <a href="catalog-gates.html" class="category-card">
        <img src="images/gates.jpg" alt="–í–æ—Ä–æ—Ç–∞">
        <h3>–í–æ—Ä–æ—Ç–∞</h3>
      </a>
      <a href="catalog-fences.html" class="category-card">
        <img src="images/fences.jpg" alt="–ó–∞–±–æ—Ä–∏">
        <h3>–ó–∞–±–æ—Ä–∏</h3>
      </a>
      <a href="catalog-grates.html" class="category-card">
        <img src="images/grates.jpg" alt="–ì—Ä–∞—Ç–∏">
        <h3>–ì—Ä–∞—Ç–∏</h3>
      </a>
    </div>
    
    <!-- –§—ñ–ª—å—Ç—Ä–∏ —Ç–æ–≤–∞—Ä—ñ–≤ -->
    <div class="filters">
      <div class="filter-group">
        <label for="category-filter">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
        <select id="category-filter">
          <option value="all">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
          <option value="gates">–í–æ—Ä–æ—Ç–∞</option>
          <option value="fences">–ó–∞–±–æ—Ä–∏</option>
          <option value="grates">–ì—Ä–∞—Ç–∏</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label for="sort-by">–°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞</label>
        <select id="sort-by">
          <option value="newest">–ù–æ–≤–∏–Ω–∫–∏</option>
          <option value="price-asc">–¶—ñ–Ω–∞ (–∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º)</option>
          <option value="price-desc">–¶—ñ–Ω–∞ (–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º)</option>
        </select>
      </div>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–æ–≤–∞—Ä—ñ–≤ -->
    <div id="productsContainer" class="products-container">
      <!-- –¢–æ–≤–∞—Ä–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏—Å—è —Å—é–¥–∏ —á–µ—Ä–µ–∑ JavaScript -->
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h3>
        <p>+380 (96) 536-41-01</p>
        <p>email@example.com</p>
      </div>
      <div class="footer-section">
        <h3>–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏</h3>
        <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
        <p>–°–±: 10:00-15:00</p>
      </div>
      <div class="footer-section">
        <h3>–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3>
        <a href="delivery.html">–î–æ—Å—Ç–∞–≤–∫–∞</a>
        <a href="#">–û–ø–ª–∞—Ç–∞</a>
        <a href="#">–ì–∞—Ä–∞–Ω—Ç—ñ—è</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2023 –ì–µ—Ñ–µ—Å—Ç–æ–≤–∞ –ö—É–∑–Ω—è. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // –û—Ç—Ä–∏–º—É—î–º–æ —Ç–æ–≤–∞—Ä–∏ –∑ localStorage
      const products = JSON.parse(localStorage.getItem('products')) || [];
      const productsContainer = document.getElementById('productsContainer');
      const cartCount = document.getElementById('cart-count');
      const searchInput = document.getElementById('search-input');
      
      // –û–Ω–æ–≤–ª—é—î–º–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫ –∫–æ—à–∏–∫–∞
      function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
      }
      
      // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
      function renderProducts(productsToRender = products) {
        productsContainer.innerHTML = '';
        
        if (productsToRender.length === 0) {
          productsContainer.innerHTML = '<p style="grid-column:1/-1;text-align:center;">–¢–æ–≤–∞—Ä—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>';
          return;
        }
        
        productsToRender.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'product-card';
          
          // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–∞–∑–≤–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
          let categoryName = '';
          switch(product.category) {
            case 'gates': categoryName = '–í–æ—Ä–æ—Ç–∞'; break;
            case 'fences': categoryName = '–ó–∞–±–æ—Ä–∏'; break;
            case 'grates': categoryName = '–ì—Ä–∞—Ç–∏'; break;
            default: categoryName = '–Ü–Ω—à–µ';
          }
          
          productCard.innerHTML = `
            <img src="${product.image}" alt="${product.name}" class="product-image">
            <div class="product-info">
              <h3 class="product-title">${product.name}</h3>
              <div class="product-price">${product.price} –≥—Ä–Ω</div>
              <button class="add-to-cart" data-id="${product.id}">–î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞</button>
            </div>
          `;
          
          productsContainer.appendChild(productCard);
        });
        
        // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞"
        document.querySelectorAll('.add-to-cart').forEach(btn => {
          btn.addEventListener('click', function() {
            const productId = parseInt(this.getAttribute('data-id'));
            addToCart(productId);
          });
        });
      }
      
      // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –¥–æ –∫–æ—à–∏–∫–∞
      function addToCart(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;
        
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const existingItem = cart.find(item => item.id === productId);
        
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image,
            quantity: 1
          });
        }
        
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        alert(`${product.name} –¥–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞!`);
      }
      
      // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
      const categoryFilter = document.getElementById('category-filter');
      const sortBy = document.getElementById('sort-by');
      
      function applyFilters() {
        let filteredProducts = [...products];
        const searchTerm = searchInput.value.toLowerCase();
        
        // –ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é
        if (searchTerm) {
          filteredProducts = filteredProducts.filter(
            product => product.name.toLowerCase().includes(searchTerm)
          );
        }
        
        // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
        if (categoryFilter.value !== 'all') {
          filteredProducts = filteredProducts.filter(
            product => product.category === categoryFilter.value
          );
        }
        
        // –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
        switch(sortBy.value) {
          case 'newest':
            filteredProducts.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            break;
          case 'price-asc':
            filteredProducts.sort((a, b) => a.price - b.price);
            break;
          case 'price-desc':
            filteredProducts.sort((a, b) => b.price - a.price);
            break;
        }
        
        renderProducts(filteredProducts);
      }
      
      // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤
      categoryFilter.addEventListener('change', applyFilters);
      sortBy.addEventListener('change', applyFilters);
      searchInput.addEventListener('input', applyFilters);
      
      // –ü–æ—á–∞—Ç–∫–æ–≤–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
      updateCartCount();
      renderProducts();
    });
  </script>
</body>
</html>